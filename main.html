<!DOCTYPE html>
<html>
<head>
    <title>G1's Travel&Entertainment</title>
    <!-- $scope.activeTab = $route.current.activetab -->

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.css">

	<script src="script-tags-for-development.js"></script>
	<script src="https://maps.google.com/maps/api/js?libraries=placeses,visualization,drawing,geometry,places&key=AIzaSyD4bVOsAIiZ8KlX8IUUeiNw_SeyRvTje6s"></script>
	<script src="https://code.angularjs.org/1.3.15/angular.js"></script>
	<script src="https://rawgit.com/allenhwkim/angularjs-google-maps/master/build/scripts/ng-map.js"></script>
	<script src="script-tags-for-development.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script> 
    <script src="https://code.angularjs.org/1.6.3/angular-animate.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular-animate.min.js"></script>
    
    <script src="script.js"></script>
    <script src="moment.js"></script>
</head>


<body ng-app="SearchApp" ng-controller="SearchCtrl">

	<!-- 1. Current controller -->
	<div ng-controller="currentCtrl"></div>

	<!-- 2. Search controller -->
	<p>{{myTxt}}</p>

	<div class="col-xs-12 col-md-12">
		<div class="row justify-content-center mt-3 mr-1 ml-1">
			<div id="search_table" class="container rounded needs-validation col-xs-9 col-md-9 border border-secondary" style="background-color: #D3D3D3" novalidate>
				<form ng-submit="nearbySearch(keyword,type,radius,from,other_loc,'nearby_func')" name="myForm" class="form-horizontal" >
					<div class="row">
						<label class="col-md-2">&#160;</label>
						<label class="col-md-6 text-center "><h3>{{title}}</h3></label>
					</div>
					<!--(1) keyword-->
					<div class="row form-group required">
						<label class="col-md-2 ml-3 control-label" for="keyword">Keyword</label>
						<div class="col-md-6 ml-3 mr-3">
							<input ng-model="keyword" type="text" id="keyword" name="keyword" class="form-control" maxlength="30" ng-style="keyword_style" required>
							<span ng-show="keyValid()" style="color:red;" disabled>Please enter a keyword</span>
						</div>
					</div>
					<!--(2) type-->
					<div class="row form-group">
						<label class="col-md-2 ml-3 control-label">Category</label>
						<div class="col-md-4 ml-3 mr-3">
							<select ng-model="type" id="type" name="type" class="form-control">
								<option selected>Default</option>
								<option>Accounting</option>
								<option>Airport</option>
								<option>Amusement Park</option>
								<option>Aquarium</option>
								<option>Art Gallery</option>
								<option>ATM</option>
								<option>Bakery</option>
								<option>Bank</option>
								<option>Bar</option>
								<option>Beauty Salon</option>
								<option>Bicycle Store</option>
								<option>Book Store</option>
								<option>Bowling Alley</option>
								<option>Bus Station</option>
								<option>Cafe</option>
								<option>Campground</option>
								<option>Car Dealer</option>
								<option>Car Rental</option>
								<option>Car Repair</option>
								<option>Car Wash</option>
								<option>Casino</option>
								<option>Cemetery</option>
								<option>Church</option>
								<option>City Hall</option>
								<option>Clothing Store</option>
								<option>Convinience Store</option>
								<option>Courthouse</option>
								<option>Dentist</option>
								<option>Department Store</option>
								<option>Doctor</option>
								<option>Electrician</option>
								<option>Electronics Store</option>
								<option>Embassy</option>
								<option>Fire Station</option>
								<option>Florist</option>
								<option>Funeral Home</option>
								<option>Furniture Store</option>
								<option>Gas Station</option>
								<option>Gym</option>
								<option>Hair Care</option>
								<option>Hardware Store</option>
								<option>Hindu Temple</option>
								<option>Home Goods Store</option>
								<option>Hospital</option>
								<option>Insurance Agency</option>
								<option>Jewelry Store</option>
								<option>Laundry</option>
								<option>Lawyer</option>
								<option>Library</option>
								<option>Liquor Store</option>
								<option>Local Government Office</option>
								<option>Locksmith</option>
								<option>Lodging</option>
								<option>Meal Delivery</option>
								<option>Meal Takeaway</option>
								<option>Mosque</option>
								<option>Movie Rental</option>
								<option>Movie Theater</option>
								<option>Moving Company</option>
								<option>Museum</option>
								<option>Night Club</option>
								<option>Painter</option>
								<option>Park</option>
								<option>Parking</option>
								<option>Pet Store</option>
								<option>Pharmacy</option>
								<option>Physiotherapist</option>
								<option>Plumber</option>
								<option>Police</option>
								<option>Post Office</option>
								<option>Real Estate Agency</option>
								<option>Restaurant</option>
								<option>Roofing Contractor</option>
								<option>RV Park</option>
								<option>School</option>
								<option>Shoe Store</option>
								<option>Shopping Mall</option>
								<option>Spa</option>
								<option>Stadium</option>
								<option>Storage</option>
								<option>Store</option>
								<option>Subway Station</option>
								<option>Supermarket</option>
								<option>Synagogue</option>
								<option>Taxi Stand</option>
								<option>Train Station</option>
								<option>Transit Station</option>
								<option>Travel Agency</option>
								<option>Veterinary Care</option>
								<option>Zoo</option>
							</select>
						</div>
				    </div>
				    <!--(3) radious-->
				    <div class="row form-group">
						<label class="col-md-2 ml-3 control-label">Distance (miles)</label>
						<div class="col-md-4 ml-3 mr-3">
							<input ng-model="radius" id="radius" name="radius" class="form-control" placeholder="10">
						</div>
					</div>
					<!--(4) from-->
					<div class="row form-group required">
						<label class="col-md-2 ml-3 mr-3 control-label">From</label>
						<div class="col-md-6">
							<div class="radio ml-3 mr-3">
								<label><input ng-model="from" ng-click="activeFrom(0)" type="radio" value="current" id="current" name="location" checked> Current location</label>
							</div>
						    <div class="radio ml-3 mr-3">
						    	<label><input ng-model="from" ng-click="activeFrom(1)" type="radio" value="other" id="other" name="location"> Other. Please specify:</label>
						    </div>
						    <div class="col-md-* ml-3 mr-3"> 
								<input googleplace ng-model="other_loc" ng-disabled="!activeOtherLoc" ng-required="activeOtherLoc" type="text" id="other_loc" name="other_loc" class="form-control" placeholder="Enter a location" ng-style="other_loc_style" disabled><span ng-show="locationValid()" style="color:red;">Please enter a valid location</span>
							</div>
						</div>
					</div>
					<!--(5) buttons-->
					<div class="row form-group">
						<label class="col-md-2">&#160;</label>
				        <div class="col-md-6 ml-3 control-label">
				        	<button type="submit" value="Search" class="btn btn-primary" ng-disabled="submitValid()"> Search</button>
							<button ng-click="clear()" type="reset" class="btn btn-light ml-3"> Clear</button>
				        </div>
				    </div>
				</form>
			</div> <!--Search container-->

		</div>
	</div>

	<!-- Result / Favorite Buttons -->
	<div class="row">
		<div class="col text-center mt-3">
			<div ng-show="!activeResult">
				<button type="button" class="btn btn-link" ng-click="showSearchTable()" >Results</button>
				<button type="button" class="btn btn-primary" ng-click="showFavorites()">Favorites</button>
			</div>
			<div ng-show="activeResult">
				<button type="button" class="btn btn-primary" ng-click="showSearchTable()">Results</button> 
				<button type="button" class="btn btn-link" ng-click="showFavorites()">Favorites</button>
			</div>
		</div>
	</div>
	<br><br>

	<div ng-show="wrapper_ALL">
		<div ng-show="wrapper_result_fav" class="rightToLeft_table_animation">

			<!-- Serach Table list :: resultTAB -->
			<div class="container-fluid show-hide" ng-show="resultTAB">
				<div ng-show="contentsResult">
					<div class="row justify-content-end mb-3">
							<button type="button" class="btn btn-default btn-outline-secondary d-flex mr-3" ng-click="prevDetail()" ng-disabled="!visitedDetail"> Detail 
								<span class="fa fa-chevron-right"></span>
							</button>
					</div>

					<!-- (1) Search table -->
					<div class="row table-responsive">
						<div class="col-sm-12 col-md-12">
							<table class="table table-hover w-100 d-block d-md-table allInfo">
								<thead>
									<tr>
										<th>#</th>
										<th>Category</th>
										<th>Name</th>
										<th>Address</th>
										<th>Favorite</th>
										<th>Details</th>
									</tr>
								</thead>
								<tbody ng-repeat="item in data" ng-class="{ selected : item.place_id == lastPicked_placeId }">
									<tr>
										<td width="10%">{{$index+1}}</td>
										<td width="10%"><img width="35px" height="35px" src={{item.icon}}></td>
										<td width="20%">{{item.name}}</td>
										<td width="40%">{{item.vicinity}}</td>
										<td width="10%">
											<div ng-show="!checkFavorite(item.place_id)">
												<button type="button" class="btn btn-default btn-outline-secondary" ng-click="saveFavorite(item.icon, item.name, item.vicinity, item.place_id)"><span class="fa fa-star-o"></span></button>
											</div>
											<div ng-show="checkFavorite(item.place_id)">
												<button type="button" class="btn btn-default btn-outline-secondary" ng-click="deleteFavorite(item.place_id)"><span class="fa fa-star" style="color:#FFCC00;"></span></button>
											</div>
										</td>
										<td width="10%">
											<button type="button" class="btn btn-default btn-outline-secondary" ng-click="detail(item.name, item.vicinity, item.place_id, 'detail_func')"><span class="fa fa-chevron-right"></span></button>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<!-- (2) prev/next button -->
					<div class="container-fluid" style="text-align:center">
					      <button type="button" class="btn btn-default btn-outline-secondary" ng-click="prev()" ng-show="showPrevBtn"><span>Previous</span></button> <!--ng-show="showPrevBtn"-->
					      <button type="button" class="btn btn-default btn-outline-secondary" ng-click="next()" ng-show="showNextBtn" ><span>Next</span></button><!--ng-show="showNextBtn"-->
					</div>
				</div>

				<!--ALERT! :: SearchTable-->
				<div class="alert alert-warning mt-5" role="alert" ng-show="!contentsResult">
					No records.
				</div>
			</div>

			<!-- Favorites data :: favoriteTAB -->
			<div class="container-fluid show-hide" ng-show="favoriteTAB">
				<div ng-show="contentsFav">
					<div class="row justify-content-end">
						<button type="button" class="btn btn-default btn-outline-secondary d-flex" ng-click="prevDetail()" ng-disabled="!visitedDetail"> Detail <span class="fa fa-chevron-right"></span>
						</button>
					</div>
					<div class="row table-responsive">
						<div class="col-sm-12 col-md-12">
							<table class="table table-hover d-block d-md-table allInfo">
								<thead>
									<tr>
										<th>#</th>
										<th>Category</th>
										<th>Name</th>
										<th>Address</th>
										<th>Favorite</th>
										<th>Details</th>
									</tr>
								</thead>
								<tbody ng-repeat="fav_item in cur_favorite_data" ng-class="{ selected : fav_item[3] == lastPicked_placeId }">
									<tr>
										<td width=5%>{{$index+1}}</td>
										<td width=15%><img width="35px" height="35px" src={{fav_item[0]}}></td>
										<td width=20%>{{fav_item[1]}}</td>
										<td width=30%>{{fav_item[2]}}</td>
										<td width=15%>
											<button type="button" class="btn btn-default btn-outline-default" ng-click="deleteFavorite(fav_item[3])"><span class="fa fa-trash"></span></button>
										</td>
										<td width=10%>
											<button type="button" class="btn btn-default btn-outline-default" ng-click="detail(fav_item[1], fav_item[2], fav_item[3], 'detail_func')"><span class="fa fa-chevron-right"></span></button>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div class="container-fluid" style="text-align:center">
						<button type="button" class="btn btn-default btn-outline-secondary" ng-click="prev_fav()" ng-show="showPrevBtn_fav"><span>Previous</span></button> 
						<button type="button" class="btn btn-default btn-outline-secondary" ng-click="next_fav()" ng-show="showNextBtn_fav" ><span>Next</span></button>
					</div>
				</div>

				<!--ALERT! :: favoriteTable-->
				<div class="alert alert-warning mt-5" role="alert" ng-show="!contentsFav">
					No records.
				</div>
			</div>

		</div>


		<!-- Detail data :: detailTAB :: (1)infoTAB (2)photoTAB (3)mapTAB (4)reviewTAB -->
		<div class="container-fluid show-hide leftToRight_detail_animation" ng-show="detailTAB">
			<div class="col-xs-12 col-md-12 text-center">
				<h2 class="text-center">{{detail_name}}</h2>
			</div>
			<div class="row d-flex justify-content-end btn-group">
					<div class="mr-auto p-2 btn-group">
						<button type="button" class="btn btn-default btn-outline-secondary" ng-click="showActiveTAB()"><span class="fa fa-chevron-left"></span> List </button>
					</div>
					<div class="p-2 noMargin">
						<span>
							<button type="button" class="btn btn-default btn-outline-secondary" ng-click="saveFavorite(detail_icon, detail_name, detail_address, detail_id)" ng-show="!checkFavorite(detail_id)">
								<span class="fa fa-star-o" width="40px"></span>
							</button>
							<button type="button" class="btn btn-default btn-outline-secondary" ng-click="deleteFavorite(detail_id)" ng-show="checkFavorite(detail_id)">
								<span class="fa fa-star" style="color:#FFCC00;"></span>
							</button>
						</span>
						<span>
							<button type="button btn-group" class="btn btn-link noMargin" ng-click="twitterOpen()"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/Twitter.png" width="35px"></button>
						</span>
					</div>
			</div>

			<div class="row" ng-if="detailTAB">
				<div class="col-xs-12 col-md-12">
					<ul class="nav nav-tabs justify-content-end" id="tabs" role="tablist" >
						<li class="nav-item" ng-model="infoToggle"><a class="nav-link active" data-toggle="tab" ng-click="show('info')">Info</a></li>
						<li class="nav-item" ng-model="photoToggle" ><a class="nav-link" data-toggle="tab" ng-click="show('photo')">Photos</a></li>
						<li class="nav-item" ng-model="mapToggle"><a class="nav-link" data-toggle="tab" ng-click="show('map')">Map</a></li>
						<li class="nav-item" ng-model="reviewToggle"><a class="nav-link" data-toggle="tab" ng-click="show('review')">Reviews</a></li>
					</ul>
				</div>
			</div>

			<!-- (1) infoTAB -->
			<div class="container-fluid show-hide" ng-show="infoTAB">
				<!-- <div class="row">
					<div class="table-responsive"> -->
				<div class="row table-responsive">
					<div class="col-sm-12 col-md-12">
						<table class="table table-striped table-hover d-block d-md-table allInfo">
						<!-- <table class="table table-striped"> -->
							<tbody>
								<tr ng-if="checkAddress">
									<th scope="row" width="15%">Address</th>
									<td>{{detail_address}}</td>
								</tr>
								<tr ng-if="checkPhoneNum">
								<th scope="row" width="15%">Phone Number</th>
									<td>{{detail_phoneNum}}</td>
								</tr>
								<tr ng-if="checkPrice">
									<th scope="row" width="15%">Price Level</th>
									<td>{{detail_priceLev}}</td>
								</tr>
								<tr ng-if="checkRating">
									<th scope="row" width="15%">Rating</th>
									<td>{{detail_rating}} <span class="rateYo_rating"><rate-yo rating="detail_rating"></rate-yo></span>
									</td>
								</tr>
								<tr ng-if="checkGGpage">
									<th scope="row" width="15%">Google Page</th>
									<td><a href={{detail_ggPage}} target="_blank">{{detail_ggPage}}</a></td>
								</tr>
								<tr ng-if="checkWebpage">
									<th scope="row" width="15%">Website</th>
									<td><a href={{detail_website}} target="_blank">{{detail_website}}</a></td>
								</tr>
								<tr ng-if="checkOpen">
									<th scope="row" width="15%">Hours</th> 
									<td>{{detail_openNow}}   
										<a href=# data-toggle="modal" data-target="#exampleModalCenter"> Daily open hours </a>
									</td> 
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>

			<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
			  <div class="modal-dialog modal-dialog-centered" role="document">
			    <div class="modal-content">
			      <div class="modal-header">
			        <h5 class="modal-title" id="exampleModalLongTitle">Open Hours</h5>
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			          <span aria-hidden="true">&times;</span>
			        </button>
			      </div>

			      <div class="modal-body">
					<table class="table">
						<!-- <tbody ng-repeat="item in detail_openHours_table_sorted"> -->
						<tbody>
							<tr>
								<th>{{detail_dayOfweek_tag_sorted[0]}}</th>
								<th width=50%>{{detail_openHours_table_sorted[0]}}</th>
							</tr>
							<tr>
								<td>{{detail_dayOfweek_tag_sorted[1]}}</td>
								<td width=50%>{{detail_openHours_table_sorted[1]}}</td>
							</tr>
							<tr>
								<td>{{detail_dayOfweek_tag_sorted[2]}}</td>
								<td width=50%>{{detail_openHours_table_sorted[2]}}</td>
							</tr>
							<tr>
								<td>{{detail_dayOfweek_tag_sorted[3]}}</td>
								<td width=50%>{{detail_openHours_table_sorted[3]}}</td>
							</tr>
							<tr>
								<td>{{detail_dayOfweek_tag_sorted[4]}}</td>
								<td width=50%>{{detail_openHours_table_sorted[4]}}</td>
							</tr>
							<tr>
								<td>{{detail_dayOfweek_tag_sorted[5]}}</td>
								<td width=50%>{{detail_openHours_table_sorted[5]}}</td>
							</tr>
							<tr>
								<td>{{detail_dayOfweek_tag_sorted[6]}}</td>
								<td width=50%>{{detail_openHours_table_sorted[6]}}</td>
							</tr>
						</tbody>
					</table>
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			      </div>
			    </div>
			  </div>
			</div> 

			<!-- (2) Photo :: photoTAB -->
			<div class="container-fluid show-hide" ng-show="photoTAB">
				<div ng-show="contentsPhoto">

					<!-- progress bar-->
					<div class="container-fluid"><br>
					</div>
					<div class="row">
					    <div class="album_col">
						    <span ng-repeat="photo in detail_album_1">
								<a target="_blank" href="{{photo}}"><img style="width:100%" src="{{photo}}"/></a>
						    </span>
						</div>
						<div class="album_col">
						    <span ng-repeat="photo in detail_album_2">
								<a target="_blank" href="{{photo}}"><img style="width:100%" src="{{photo}}"/></a>
						    </span>
						</div>
						<div class="album_col">
						    <span ng-repeat="photo in detail_album_3">
								<a target="_blank" href="{{photo}}"><img style="width:100%" src="{{photo}}"/></a>
						    </span>
						</div>
						<div class="album_col">
						    <span ng-repeat="photo in detail_album_4">
								<a target="_blank" href="{{photo}}"><img style="width:100%" src="{{photo}}"/></a>
						    </span>
						</div>
					</div>
				</div>
				<!--ALERT! :: photoTable-->
				<div class="alert alert-warning mt-5" role="alert" ng-show="!contentsPhoto">
					No records.
				</div>
			</div>
			
			<!--(3) Map :: mapTAB -->
			<div class="container-fluid mb-6" ng-show="mapTAB">
				<form ng-submit="getDirection()" name="mapForm" class="form-horizontal">

					<div class="row">
                        <div class="col-xs-12 col-sm-4">
                            <label class="col-form-label">From</label>
                            <input googleplace ng-model="map_from" type="text" id="map_from" name="map_from" class="form-control" ng-disabled="dirChange(from)" required>
						</div>
                        <div class="col-xs-12 col-sm-4">
                            <label class="col-form-label">To</label>
                            <input style="background-color: #DCDCDC"  type="text" name="map_to" class="form-control" value="{{detail_name}}, {{detail_address}}" disabled="disabled">
						</div>
                        <div class="col-xs-12 col-sm-2">
                            <label class="col-form-label">Travel Mode</label>
                            <select ng-model="map_mode_lowerCase" id="map_mode" name="map_mode" class="form-control shorter">
								<option selected="">Driving</option>
								<option>Bicycling</option>
								<option>Transit</option>
								<option>Walking</option>
							</select>
                        </div>
                        <div class="col-xs-12 col-sm-2">
                        	<label class="col-form-label">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                        	<div>
                            	<button type="submit" value="getmap" class="btn btn-primary form-control" ng-disabled="invalidMapFrom()"> Get Directions </button>
                            </div>
                        </div>
                    </div>
				</form> 

				<!-- map / street view -->
				<div class="row">
					<div class="col mt-3 mb-3 mt-3">
						<span ng-show="pic_man">
							<button type="button" class="btn btn-outline-secondary" ng-click="showStreetView()">
								<img width="35px" height="35px" src="http://cs-server.usc.edu:45678/hw/hw8/images/Pegman.png"/>
							</button>
						</span>
						<span ng-show="pic_map">
						<button type="button" class="btn btn-outline-secondary" ng-click="showMapView()" >
							<img width="35px" height="35px" src="http://cs-server.usc.edu:45678/hw/hw8/images/Map.png"/>
						</button>
						</span>
					</div>
				</div>

				<!-- map tabs :: (1)mapViewTAB, (2)streetViewTAB, (3)directionTAB -->
				<div ng-show="show_map">
					<div class="row container-fluid">
						<div class="col-xs-12 col-md-12">
							<ng-map zoom="14" center="{{detail_lat}},{{detail_lon}}" >
								<div ng-if="mar">
									<marker position="[{{detail_lat}},{{detail_lon}}]"></marker>
								</div>

								<div ng-if="dir">
							        <directions
							          draggable="true"
							          provide-route-alternatives="true"
							          travel-mode="{{map_mode}}"
							          panel="directions-panel"
							          origin="{{map_location_from}}"
							          destination="{{detail_lat}},{{detail_lon}}">
							        </directions>
							        <!-- origin="{{location}}" -->
							    </div>
							</ng-map>
							
						</div>
					</div>
					<div class="row container-fluid">
						<div class="col-xs-12 col-md-12">
							<div ng-if="mapTAB" id="directions-panel"></div>
						</div>
					</div>
				</div>
				<div ng-show="show_street" class="row container-fluid">
					<div class="col-xs-12 col-md-12">
						<div id="street-view">
							<ng-map street-view="StreetViewPanorama(document.querySelector('#street-view'), {position: new google.maps.LatLng({{detail_lat}},{{detail_lon}})})">
								<marker position="[{{detail_lat}},{{detail_lon}}]"></marker>
							</ng-map>
						</div>
					</div>
				</div>
			</div>

			<!--(4) Review :: reviewTAB -->
			<div class="container-fluid show-hide" ng-show="reviewTAB">
				<div class="row">
	          		<div class="btn-group mt-3 mb-3"> 
						<div class="dropdown btn-group mr-3">
							<button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" >
								 <span>{{cur_review}}</span>
							</button>
							<div class="dropdown-menu">
								<a class="dropdown-item" ng-click="showGGreviews()" width="100%">Google Reviews</a>
								<a class="dropdown-item" ng-click="showYelpreviews()" width="100%">Yelp Reviews</a>
							</div>
						</div>
						<div class="dropdown btn-group">
							<button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">
								<span id="ordering">{{cur_ordering}}</span>
							</button>
							<div class="dropdown-menu">
								<a class="dropdown-item" ng-click="showDefaultOrder()">Default Order</a>
								<a class="dropdown-item" ng-click="showHighestRating()">Highest Rating</a>
								<a class="dropdown-item" ng-click="showLowestRating()">Lowest Rating</a>
								<a class="dropdown-item" ng-click="showMost()">Most Recent</a>
								<a class="dropdown-item" ng-click="showLeast()">Least Recent</a>
							</div>
						</div>
					</div>
				</div>

				<div class="review_animation" ng-show="ggTAB">
					<div class="show-hide" ng-show="contentsGG">

						<!-- reviews_bucket_GG = [0:author_url, 1:profile_photo_url, 2:author_name, 3:rating, 4:time_converted, 5:text, 6:time_raw] -->
						<div ng-repeat="review in reviews_bucket_GG">
							<table class="table table-hover">
								<tbody>
									<tr class="container border">
										<td class="align-baseline mr-3" width="60px">
											<a target="_blank" href={{review[0]}}><img width="50px" height="50px" src={{review[1]}}></a>
										</td>
										<td class="ml-3">
											<div><a target="_blank" href={{review[0]}}>{{review[2]}}</a></div>
											<div>
												<span><rate-yo rating="review[3]"></rate-yo></span>
												<span> {{review[4]}} </span>
											</div> <!-- relative_time_description -->
											<div>{{review[5]}}</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<!--ALERT! :: GGreviewTable-->
					<div class="alert alert-warning mt-5" role="alert" ng-show="!contentsGG">
						No records.
					</div>
				</div>
				
				<div class="review_animation" ng-show="yelpTAB">
					<div class="show-hide" ng-show="contentsYelp">
						<!-- reviews_bucket_yelp = [0:url, 1:user.image_url, 2:user.name, 3:rating, 4:time_created, 5:text, 6:time_only_numbers] -->
						<div ng-repeat="review in reviews_bucket_yelp">
							<table class="table table-hover">
								<tbody>
									<tr class="container border">
										<td class="align-baseline mr-3" width="60px">
											<a target="_blank" href={{review[0]}}><img width="50px" height="50px" src={{review[1]}} style="border-radius: 50%"></a>
										</td>
										<td class="ml-3">
											<div><a target="_blank" href={{review[0]}}>{{review[2]}}</a></div>
											<div><span><rate-yo rating="review[3]"></rate-yo></span>
												<span> {{review[4]}} </span>
											</div>
											<div>{{review[5]}}</div>
										</td>
									</tr>
								</tbody>
							</table>

						</div>
					</div>
					<!--ALERT! :: yelpTable-->
					<div class="alert alert-warning mt-5" role="alert" ng-show="!contentsYelp">
						No records.
					</div>
				</div>

			</div> <!-- Review TAB -->
		</div> <!-- Detail data table -->
	</div>

	<!-- Error Message -->
	<div ng-show="failMsg" class="alert alert-danger" role="alert">
	  Fail to get Search result
	</div>

	<!-- progress bar-->
	<div class="container-fluid" >
		<br><br>
		<div class="progress" ng-show="LOADING">
			<div class="progress-bar progress-bar-striped progress-bar-animated active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
				<span class="sr-only">45% Complete</span>
			</div>
		</div>
	</div>

</body>
</html>
